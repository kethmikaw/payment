import{b as F}from"./chunk-7LZGZG2P.js";import{a as T,b as z,c as A,d as $}from"./chunk-4VQYDBGL.js";import{a as D}from"./chunk-M3ZAVI66.js";import{d as M,e as I,x as k}from"./chunk-JLTB4Q6O.js";import{$b as b,Aa as v,Ab as c,Cb as p,Mb as a,Nb as l,Ob as x,Pb as _,Qb as u,Sb as y,Xb as h,Yb as d,cb as w,fc as g,gc as S,hb as r,hc as C,ib as m,nc as P,oa as E,za as f}from"./chunk-ZQYR7OXX.js";function K(t,s){t&1&&(a(0,"div",8),x(1,"div",9),a(2,"div",10),x(3,"div",11)(4,"div",12),l()())}function j(t,s){if(t&1&&(a(0,"div",6),c(1,K,5,0,"div",7),l()),t&2){let e=d(3);r(),p("ngForOf",e.groupedEpisodes)}}function G(t,s){t&1&&(_(0),c(1,j,2,1,"ng-template",5),u())}function N(t,s){if(t&1){let e=y();a(0,"div",15)(1,"div",16)(2,"img",17),h("click",function(){let n=f(e).$implicit,o=d(5);return v(o.openEpisodePage(n))}),l()(),a(3,"h5",18),g(4),l(),a(5,"p",19),g(6),l(),a(7,"button",20),h("click",function(){let n=f(e).$implicit,o=d(5);return v(o.openEpisodePage(n))}),g(8," \u25B6 Watch Trailer "),l()()}if(t&2){let e=s.$implicit;r(2),b("alt",e.title),p("src",e.thumbnailUrl,w),r(2),S(e.title),r(2),C(" ",e.description||""," ")}}function U(t,s){if(t&1&&c(0,N,9,4,"div",14),t&2){let e=d().$implicit;p("ngForOf",e)}}function X(t,s){t&1&&(_(0),c(1,U,1,1,"ng-template",5),u())}function Y(t,s){if(t&1&&(_(0),c(1,X,2,0,"ng-container",13),u()),t&2){let e=d().$implicit;r(),p("ngForOf",e.groups)}}function Z(t,s){if(t&1&&(a(0,"div",1)(1,"h2",2),g(2),l(),a(3,"owl-carousel-o",3),c(4,G,2,0,"ng-container",4)(5,Y,2,1,"ng-container",4),l()()),t&2){let e=s.$implicit,i=d();r(2),C(" ",e.category," "),r(),p("options",i.customOptions),r(),p("ngIf",e.loading),r(),p("ngIf",!e.loading)}}var ee=(()=>{class t{constructor(e,i,n){this.categoryService=e,this.episodeService=i,this.router=n,this.cachedEpisodes={},this.groupedEpisodes=[],this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,margin:15,nav:!1,responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}}}}ngOnInit(){let e=sessionStorage.getItem("X-API-KEY");e?(console.log("API Key found:",e),this.loadCategoriesAndEpisodes()):console.warn("X-API-KEY not found in sessionStorage. Skipping API calls.")}loadCategoriesAndEpisodes(){this.groupedEpisodes=[],this.categoryService.getAllContent().subscribe({next:e=>{(e.data.content||[]).filter(o=>o.name?.toLowerCase()==="originals").forEach(o=>{if(o?.subcategories?.length){let O=o.subcategories.flatMap(V=>V.episodes||[]);if(!O.length)return;this.pushGroupedEpisodes(o,O)}})},error:e=>console.error("Error fetching categories:",e)})}pushGroupedEpisodes(e,i){let n=this.groupEpisodes(i);this.groupedEpisodes.push({category:e.name,subCategoryName:"",groups:n.length>0?n:[[]]})}groupEpisodes(e){let n=[];for(let o=0;o<e.length;o+=1)n.push(e.slice(o,o+1));return n}openEpisodePage(e){this.router.navigate(["/episode",e.slug])}static{this.\u0275fac=function(i){return new(i||t)(m($),m(D),m(k))}}static{this.\u0275cmp=E({type:t,selectors:[["app-original"]],standalone:!0,features:[P],decls:1,vars:1,consts:[["class","category-section py-5",4,"ngFor","ngForOf"],[1,"category-section","py-5"],[1,"text-white","fs-2","text-uppercase","text-center","mb-4"],[3,"options"],[4,"ngIf"],["carouselSlide",""],[1,"loading-cards-container","d-flex","gap-3"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"skeleton-thumbnail","shimmer"],[1,"skeleton-content","mt-2"],[1,"skeleton-line","short","shimmer"],[1,"skeleton-line","long","shimmer"],[4,"ngFor","ngForOf"],["class","episode-card",4,"ngFor","ngForOf"],[1,"episode-card"],[1,"poster-wrapper"],["loading","lazy",1,"poster-img","shadow-lg",3,"click","src","alt"],[1,"text-white","mt-3"],[1,"text-white-50","small","description-text"],[1,"btn","btn-outline-light","btn-sm",3,"click"]],template:function(i,n){i&1&&c(0,Z,6,4,"div",0),i&2&&p("ngForOf",n.groupedEpisodes)},dependencies:[A,z,T,F,M,I],styles:[".episode-card[_ngcontent-%COMP%]{text-align:center;padding:15px;cursor:pointer;max-width:250px;margin:auto}.episode-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:transform .3s ease}.poster-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:12px;transform:scale(1) translateZ(0);transition:transform 2s ease}.poster-img[_ngcontent-%COMP%]{width:100%;height:350px;border-radius:12px;transition:transform .3s ease}.poster-wrapper[_ngcontent-%COMP%]:hover   .poster-img[_ngcontent-%COMP%]{transform:scale(.94) translateZ(0)}.episode-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-top:12px}.episode-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;margin:6px 0 12px;color:#aaa}.episode-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem;border-radius:20px;padding:5px 15px}.description-text[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:4rem}"]})}}return t})();export{ee as a};
